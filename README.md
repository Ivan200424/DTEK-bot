# GraphenkoBot (@DTEK-bot) üîå‚ö°

Telegram –±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å –µ–ª–µ–∫—Ç—Ä–æ–µ–Ω–µ—Ä–≥—ñ—ó –≤ –£–∫—Ä–∞—ó–Ω—ñ. –ë–æ—Ç –æ–Ω–æ–≤–ª—é—î –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω–µ PNG-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏—Ö –∫–∞–Ω–∞–ª–∞—Ö/—á–∞—Ç–∞—Ö –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω.

## üåü –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å
- –û–Ω–æ–≤–ª—é—î –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —ñ–∑ PNG-–∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –∫–æ–∂–Ω—ñ 5 —Ö–≤–∏–ª–∏–Ω
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –æ–¥–∏–Ω–æ—á–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å –∞–±–æ –ø–∞—Ä–∏ (—Å—å–æ–≥–æ–¥–Ω—ñ/–∑–∞–≤—Ç—Ä–∞)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è timestamp —É —Ñ–æ—Ä–º–∞—Ç—ñ Europe/Kyiv
- Cache-busting –¥–ª—è –æ–±—Ö–æ–¥—É –∫–µ—à—É Telegram

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–∞–Ω–∞–ª—ñ–≤
- –ö–∞–Ω–∞–ª —Ä–µ—î—Å—Ç—Ä—É—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ—Å–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –±–æ—Ç–∞
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ `graphenko-chats.json`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É –ø—Ä–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—ñ –±–æ—Ç–∞ –∑ –∫–∞–Ω–∞–ª—É

### –ö–æ–º–∞–Ω–¥–∏ –±–æ—Ç–∞

**–ì—Ä–∞—Ñ—ñ–∫–∏ –≤—ñ–¥–∫–ª—é—á–µ–Ω—å:**
- `/graphenko_image <url.png>` ‚Äî –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω—å
- `/graphenko_caption <—Ç–µ–∫—Å—Ç>` ‚Äî –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –ø—ñ–¥–ø–∏—Å
- `/graphenko_caption -default` ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π –ø—ñ–¥–ø–∏—Å

**–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –µ–ª–µ–∫—Ç—Ä–æ–ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è:**
- `/monitor_on` ‚Äî —É–≤—ñ–º–∫–Ω—É—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä–æ—É—Ç–µ—Ä–∞ (–ø—ñ–Ω–≥ 93.127.118.86:443)
- `/monitor_off` ‚Äî –≤–∏–º–∫–Ω—É—Ç–∏ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
- `/monitor_status` ‚Äî –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –µ–ª–µ–∫—Ç—Ä–æ–ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ –ø—ñ–Ω–≥ —Ä–æ—É—Ç–µ—Ä–∞ (IP: 93.127.118.86, –ø–æ—Ä—Ç: 443)
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–∂–Ω—ñ 30 —Å–µ–∫—É–Ω–¥
- –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –∑–Ω–∏–∫–Ω–µ–Ω–Ω—è —Ç–∞ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–∞
- –ü–æ–∫–∞–∑ —Ç—Ä–∏–≤–∞–ª–æ—Å—Ç—ñ –ø—Ä–æ—Å—Ç–æ—é/—Ä–æ–±–æ—Ç–∏
- –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –≥—Ä–∞—Ñ—ñ–∫–æ–º –ø–ª–∞–Ω–æ–≤–∏—Ö –≤—ñ–¥–∫–ª—é—á–µ–Ω—å (–≥—Ä—É–ø–∞ 3.1)

## üìã –í–∏–º–æ–≥–∏

- **Node.js** 18 –∞–±–æ –Ω–æ–≤—ñ—à–µ
- **BOT_TOKEN** (GitHub Secret –∞–±–æ .env –ª–æ–∫–∞–ª—å–Ω–æ)
- –ë–æ—Ç –º–∞—î –±—É—Ç–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º —ñ–∑ –ø—Ä–∞–≤–æ–º –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω–Ω—è —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–æ—Ç–∞

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather):
   ```
   /newbot
   ```
2. –î–∞–π—Ç–µ —ñ–º'—è –±–æ—Ç—É —Ç–∞ –∑–±–µ—Ä–µ–∂—ñ—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏–π **Bot Token**

### –ö—Ä–æ–∫ 2: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

1. –§–æ—Ä–∫–Ω—ñ—Ç—å —Ü–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ **Settings** ‚Üí **Secrets and variables** ‚Üí **Actions**
3. –î–æ–¥–∞–π—Ç–µ —Å–µ–∫—Ä–µ—Ç:
   - **Name:** `BOT_TOKEN`
   - **Value:** –≤–∞—à —Ç–æ–∫–µ–Ω –≤—ñ–¥ BotFather

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞–≤–∞–Ω–Ω—è –±–æ—Ç–∞ –¥–æ –∫–∞–Ω–∞–ª—É

1. –î–æ–¥–∞–π—Ç–µ –±–æ—Ç–∞ –¥–æ –≤–∞—à–æ–≥–æ –∫–∞–Ω–∞–ª—É/—á–∞—Ç—É —è–∫ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞
2. –ù–∞–¥–∞–π—Ç–µ –±–æ—Ç—É –ø—Ä–∞–≤–∞:
   - ‚úÖ Pin messages
   - ‚úÖ Delete messages
   - ‚úÖ Post messages
3. –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–¥—ñ—à–ª–µ –≤—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 4: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

–£ –∫–∞–Ω–∞–ª—ñ –Ω–∞–¥—ñ—à–ª—ñ—Ç—å –∫–æ–º–∞–Ω–¥—É –∑ URL –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:

```
/graphenko_image https://raw.githubusercontent.com/Baskerville42/outage-data-ua/refs/heads/main/images/kyiv/gpv-3-2-emergency.png
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
DTEK-bot/
‚îú‚îÄ‚îÄ .github/workflows/run-graphenko-bot.yml
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îÇ   ‚îú‚îÄ‚îÄ telegram/        # Telegram API
‚îÇ   ‚îú‚îÄ‚îÄ storage/         # –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö
‚îÇ   ‚îî‚îÄ‚îÄ utils/           # –£—Ç–∏–ª—ñ—Ç–∏
‚îú‚îÄ‚îÄ index.mjs            # –ì–æ–ª–æ–≤–Ω–∏–π —Ü–∏–∫–ª
‚îú‚îÄ‚îÄ graphenko-chats.json # –ú–∞–ø–∞ –∫–∞–Ω–∞–ª—ñ–≤
‚îî‚îÄ‚îÄ README.md            # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
```

## üîß –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫

1. –°—Ç–≤–æ—Ä—ñ—Ç—å `.env` —Ñ–∞–π–ª:
   ```
   BOT_TOKEN=your_telegram_bot_token_here
   ```

2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –±–æ—Ç–∞:
   ```bash
   node index.mjs
   ```

## ‚ö°Ô∏è –ó–º—ñ–Ω–∏ —É –≤–µ—Ä—Å—ñ—ó 2.0

**–©–æ –Ω–æ–≤–æ–≥–æ:**
- ‚úÖ ES Modules (`.mjs`) –∑–∞–º—ñ—Å—Ç—å CommonJS
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `src/`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–∫—Ä—ñ–ø–ª–µ–Ω–∏—Ö PNG-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å
- ‚úÖ –ö–æ–º–∞–Ω–¥–∏ `/graphenko_image` —Ç–∞ `/graphenko_caption`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ `getUpdates`
- ‚úÖ –ë–µ–∑–ø–µ—á–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è `.env` –±–µ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

**–©–æ –≤–∏–¥–∞–ª–µ–Ω–æ:**
- ‚ùå –°—Ç–∞—Ä–∏–π –∫–æ–¥ –ø—ñ–Ω–≥—É —Ä–æ—É—Ç–µ—Ä–∞
- ‚ùå –ù–µ–±–µ–∑–ø–µ—á–Ω–∏–π `light-config.json` –∑ —Ç–æ–∫–µ–Ω–æ–º
- ‚ùå –ó–æ–≤–Ω—ñ—à–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

**–°–ª–∞–≤–∞ –£–∫—Ä–∞—ó–Ω—ñ! üá∫üá¶**
